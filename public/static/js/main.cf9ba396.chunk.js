(this["webpackJsonpapplimentos-cliente"]=this["webpackJsonpapplimentos-cliente"]||[]).push([[0],{21:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t(1),n=t(24),r=t.n(n),o=t(11),i=t(4),l=t(8),d=Object(s.createContext)(),m=t(26),b=t(2),u="AGREGAR_COMIDA_DIA",j="VACIAR_COMIDAS_DIA",O="GUARDAR_ALIMENTOS_API",x="ELIMINAR_COMIDA_DIA",h="MODIFICAR_GRAMOS_CONSUMIDOS_DIA",p="BOTON_CALCULAR",g=function(e,a){switch(a.type){case u:return Object(b.a)(Object(b.a)({},e),{},{comidasDia:[].concat(Object(m.a)(e.comidasDia),[a.payload])});case O:return Object(b.a)(Object(b.a)({},e),{},{alimentos:a.payload});case x:return Object(b.a)(Object(b.a)({},e),{},{comidasDia:e.comidasDia.filter((function(e){return e.nombre!==a.payload}))});case j:return Object(b.a)(Object(b.a)({},e),{},{comidasDia:[]});case h:return Object(b.a)(Object(b.a)({},e),{},{comidasDia:e.comidasDia.map((function(e){return e.nombre===a.payload.nombre?a.payload:e}))});case p:return Object(b.a)(Object(b.a)({},e),{},{botonCalcular:a.payload});default:return e}},f=function(e){var a=Object(s.useReducer)(g,{alimentos:[],comidasDia:[],botonCalcular:!1}),t=Object(l.a)(a,2),n=t[0],r=t[1];return Object(c.jsx)(d.Provider,{value:{alimentos:n.alimentos,comidasDia:n.comidasDia,botonCalcular:n.botonCalcular,agregarComidaDia:function(e){r({type:u,payload:e})},guardarAlimentosAPI:function(e){r({type:O,payload:e})},eliminarComidaDia:function(e){r({type:x,payload:e})},modificarGramosConsumidosDia:function(e){r({type:h,payload:e})},estadoBotonCalcular:function(e){r({type:p,payload:e})},vaciarComidasDia:function(){r({type:j})}},children:e.children})},N=(t(21),function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)(o.b,{className:"navbar-brand mx-5 titulo",to:"/alimentos",children:"AppLIMENTOS"}),Object(c.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo03",children:[Object(c.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(c.jsx)("li",{className:"nav-item mx-1",children:Object(c.jsx)(o.b,{className:"btn btn-outline-primary",to:"/alimentos",children:"ALIMENTOS"})}),Object(c.jsx)("li",{className:"nav-item mx-1",children:Object(c.jsx)(o.b,{className:"btn btn-outline-primary",to:"/dia",children:"D\xcdA"})}),Object(c.jsx)("li",{className:"nav-item mx-1",children:Object(c.jsx)(o.b,{className:"btn btn-outline-primary",to:"/calendario",children:"CALENDARIO"})})]}),Object(c.jsx)("div",{className:"d-flex",children:Object(c.jsx)(o.b,{className:"btn btn-outline-primary",to:"/micuenta",children:"MI CUENTA"})})]})]})})})}),C=t(10),v=t(3),A=t.n(v),y=function(e){var a=e.comida,t=Object(s.useContext)(d),n=t.eliminarComidaDia,r=t.modificarGramosConsumidosDia,o=t.estadoBotonCalcular,i=Object(s.useState)(Object(b.a)(Object(b.a)({},a),{},{gramosConsumidos:""})),m=Object(l.a)(i,2),u=m[0],j=m[1],O=(u||"").gramosConsumidos;Object(s.useEffect)((function(){r(u),o(!1)}),[u]);return Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("div",{className:"card border-primary shadow-lg bg-white rounded",children:[Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title text-center text-uppercase",children:a.nombre})}),Object(c.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(c.jsxs)("li",{className:"list-group-item text-center",children:["Gramos consumidos:",Object(c.jsx)("input",{type:"text",autoComplete:"off",className:"text-center",placeholder:"Ingrese n\xfamero",name:"gramosConsumidos",value:O,onChange:function(e){j(Object(b.a)(Object(b.a)({},u),{},Object(C.a)({},e.target.name,e.target.value)))}})]}),Object(c.jsxs)("li",{className:"list-group-item",children:["Gramos por porcion: ",a.porcion]}),Object(c.jsxs)("li",{className:"list-group-item",children:["Calorias por porci\xf3n: ",a.caloriasPorcion]})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{id:a._id,type:"button",className:"btn btn-danger",onClick:function(e){e.preventDefault(),n(a.nombre)},children:"ELIMINAR"})})})]})})},D=function(){var e=Object(s.useContext)(d),a=e.comidasDia,t=e.botonCalcular,n=e.estadoBotonCalcular,r=e.vaciarComidasDia,o=(JSON.parse(localStorage.getItem("datos"))||"").caloriasTotales,i=Object(s.useState)({fecha:"",caloriasMaximasAlDia:o,caloriasConsumidasDia:""}),m=Object(l.a)(i,2),u=m[0],j=m[1],O=u.fecha,x=u.caloriasMaximasAlDia,h=u.caloriasConsumidasDia;if(0===a.length)return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"CREAR NUEVO DIA"}),Object(c.jsx)("p",{className:"my-4 text-center fz-20",children:'Agregue sus comidas desde el men\xfa "Alimentos"'})]});a.sort();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"CREAR NUEVO DIA"}),Object(c.jsx)("div",{className:"screen-dia",children:Object(c.jsxs)("form",{className:"form-dia",onSubmit:function(e){return e.preventDefault()},children:[Object(c.jsxs)("div",{className:"mb-3 form-date",children:[Object(c.jsx)("label",{className:"form-label fz-30",children:"FECHA"}),Object(c.jsx)("input",{type:"date",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",name:"fecha",onChange:function(e){j(Object(b.a)(Object(b.a)({},u),{},Object(C.a)({},e.target.name,e.target.value)))}})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("p",{className:"form-label text-center fz-30 mb-4",children:'COMIDAS AGREGADAS: (Agreguelas desde el men\xfa "Alimentos")'}),Object(c.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:a.map((function(e){return Object(c.jsx)(y,{comida:e},e._id)}))})]}),Object(c.jsx)("p",{className:"my-4 text-center fz-30",children:"TOTAL DE CALOR\xcdAS CONSUMIDAS"}),Object(c.jsx)("p",{className:"text-center fz-30",id:"total"}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"d-grid gap-2 mb-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary fz-20",onClick:function(){for(var e=0;e<a.length;e++)if(0===a[e].gramosConsumidos||""===a[e].gramosConsumidos)return j(Object(b.a)(Object(b.a)({},u),{},{caloriasConsumidasDia:0})),document.getElementById("total").innerHTML="0",A()("Cuidado!","Uno de los alimentos contiene 0 gramos consumidos","warning"),0;var t=a.map((function(e){return e.gramosConsumidos/e.porcion*e.caloriasPorcion})).reduce((function(e,a){return e+a})).toFixed(1);if(isNaN(t))return document.getElementById("total").innerHTML="0",A()("Cuidado!","Uno de los alimentos contiene 0 gramos consumidos","warning"),0;document.getElementById("total").innerHTML=t,j(Object(b.a)(Object(b.a)({},u),{},{caloriasConsumidasDia:t})),n(!0)},children:"CALCULAR"})})}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-success fz-20",onClick:function(e){if(e.preventDefault(),""===x||void 0===x||0===x)return A()("Error!",'Vaya al men\xfa "Mi Cuenta" he ingrese lo solicitado',"error"),0;if(""===O)return A()("Cuidado!","Agregue una fecha antes de continuar","warning"),0;if(""===h)return A()("Cuidado!","Antes de guardar, presione el boton CALCULAR","warning"),0;if(!t)return A()("Cuidado!","Antes de guardar, calcule otra vez presionando el boton CALCULAR","warning"),0;var a=JSON.parse(localStorage.getItem("calendario"));a.find((function(e){return e.fecha===O}))?A()("Cuidado!",'Este d\xeda ya existe en su "Calendario"',"warning"):(a.push(u),localStorage.setItem("calendario",JSON.stringify(a)),r(),A()("Perfecto!",'Los datos han sido guardardos en el men\xfa "Calendario"',"success"))},children:"GUARDAR"})})]})})]})},I=function(e,a){return e.sort((function(e,t){return e[a]<t[a]?-1:e[a]>t[a]?1:0})),e},E=function(e){var a=e.alimento,t=Object(s.useContext)(d),n=t.comidasDia,r=t.agregarComidaDia,o=n.map((function(e){return e.nombre}));return Object(s.useEffect)((function(){var e=document.getElementById(a._id);o.includes(a.nombre)?(e.innerHTML="YA EST\xc1 AGREGADO",e.classList.add("btn","btn-success")):e.classList.add("btn","btn-primary")})),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("div",{className:"card border-primary shadow-lg bg-white rounded",children:[Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title text-center text-uppercase",children:a.nombre})}),Object(c.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(c.jsxs)("li",{className:"list-group-item",children:["Gramos de una porci\xf3n: ",a.porcion]}),Object(c.jsxs)("li",{className:"list-group-item",children:["Calorias por porci\xf3n: ",a.caloriasPorcion]})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{id:a._id,type:"button",value:a.nombre,onClick:function(e){var t=document.getElementById(a._id);o.includes(a.nombre)?t.classList.contains("disabled")||(t.innerHTML="YA EST\xc1 AGREGADO",t.classList.add("disabled"),A()("Error!","Esta comida ya existe en su Dia","error")):(a.gramosConsumidos="",t.innerHTML="AGREGADO CORRECTAMENTE",r(a),A()("Perfecto!",'El alimento ha sido agregado, reviselo en el men\xfa "D\xeda"!',"success"))},children:"AGREGAR"})})})]})})})},S=function(){var e=Object(s.useContext)(d).guardarAlimentosAPI,a=Object(s.useState)([]),t=Object(l.a)(a,2),n=t[0],r=t[1];Object(s.useEffect)((function(){var a=new Request("https://ancient-beach-97922.herokuapp.com/api/food",{method:"GET",mode:"cors",credentials:"omit",referrerPolicy:"no-referrer"});fetch(a).then((function(e){return e.json()})).then((function(a){r(a),e(a)})).catch((function(e){console.error(e)}))}),[]);var o=n.alimentos;if(void 0===o)return Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"CARGANDO ALIMENTOS, POR FAVOR ESPERE..."});var i=I(o,"nombre");return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"LISTA DE ALIMENTOS"}),Object(c.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 screen-alimentos",children:i.map((function(e){return Object(c.jsx)(E,{alimento:e},e._id)}))})]})},R=function(e){var a=e.dia,t=e.eliminarDiaCalendario;return Object(c.jsx)("div",{className:"col",children:Object(c.jsxs)("div",{className:"card border-primary shadow-lg bg-white rounded",children:[Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h5",{className:"card-title text-center text-uppercase",children:a.fecha.split("-").reverse().join("/")})}),Object(c.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(c.jsxs)("li",{className:"list-group-item",children:["Calor\xedas m\xe1ximas al d\xeda: ",a.caloriasMaximasAlDia]}),Object(c.jsxs)("li",{className:"list-group-item",children:["Calor\xedas consumidas este d\xeda: ",a.caloriasConsumidasDia]})]}),Object(c.jsx)("div",{className:"card-footer",children:Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return t(a)},children:"ELIMINAR ESTE D\xcdA"})})})]})})},L=function(){var e=JSON.parse(localStorage.getItem("calendario"))||[],a=I(e,"fecha"),t=Object(s.useState)(a),n=Object(l.a)(t,2),r=n[0],o=n[1];if(null===e)return Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"CALENDARIO"});var i=function(e){A()("Seguro que desea eliminar este d\xeda? Esta acci\xf3n no puede revertirse...",{buttons:{cancel:"Cancelar",aceptar:{text:"Borrar",value:"borrar"}}}).then((function(a){switch(a){case"borrar":var t=JSON.parse(localStorage.getItem("calendario")).filter((function(a){return a.fecha!==e.fecha}));o(t),localStorage.setItem("calendario",JSON.stringify(t)),A()("Bien!","El dia ha sido borrado","success");break;default:A()("Cancelado!")}}))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"CALENDARIO"}),Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(e){e.preventDefault(),A()("Seguro que desea eliminar el Calendario completamente? Esta acci\xf3n no puede revertirse...",{buttons:{cancel:"Cancelar",aceptar:{text:"Borrar",value:"borrar"}}}).then((function(e){switch(e){case"borrar":localStorage.setItem("calendario",JSON.stringify([])),o([]),A()("Bien!","Su Calendario ha sido borrado","success");break;default:A()("Cancelado!")}}))},children:"ELIMINAR CALENDARIO"})}),Object(c.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-4 screen-alimentos",children:null!==e?r.map((function(e){return Object(c.jsx)(R,{dia:e,eliminarDiaCalendario:i},e.fecha)})):null})]})},T=function(){var e=JSON.parse(localStorage.getItem("datos"));e||(e={altura:"",peso:"",sexo:"",edad:"",caloriasTotales:0});var a=Object(s.useState)(e),t=Object(l.a)(a,2),n=t[0],r=t[1],o=n.altura,i=n.peso,d=n.sexo,m=n.edad,u=n.caloriasTotales;Object(s.useEffect)((function(){localStorage.setItem("datos",JSON.stringify(n))}),[n]);var j=function(e){r(Object(b.a)(Object(b.a)({},n),{},Object(C.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"my-4 text-center bg-blue",children:"MI CUENTA"}),Object(c.jsxs)("form",{className:"form-micuenta",children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Ingrese su sexo"}),Object(c.jsxs)("select",{className:"form-select","aria-label":"Default select example",name:"sexo",onChange:j,value:d,children:[Object(c.jsx)("option",{defaultValue:!0,children:"Selecciones una opcion"}),Object(c.jsx)("option",{value:"Hombre",children:"Hombre"}),Object(c.jsx)("option",{value:"Mujer",children:"Mujer"})]})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Ingrese su altura en cent\xedmetros"}),Object(c.jsx)("input",{type:"number",className:"form-control",autoComplete:"off",id:"exampleFormControlInput1",name:"altura",value:o,onChange:j})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{htmlFor:"exampleFormControlInput2",className:"form-label",children:"Ingrese su peso en Kilogramos"}),Object(c.jsx)("input",{type:"number",className:"form-control",autoComplete:"off",id:"exampleFormControlInput2",name:"peso",value:i,onChange:j})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{htmlFor:"exampleFormControlInput3",className:"form-label",children:"Ingrese su edad"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"exampleFormControlInput3",name:"edad",value:m,onChange:j})]}),Object(c.jsxs)("h1",{className:"my-4 text-center",children:["Calorias totales por d\xeda: ",u.toFixed(0)]}),Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-primary fz-20",onClick:function(){var e=0;if(""===o||""===i||""===d||""===m)return r(Object(b.a)(Object(b.a)({},n),{},{caloriasTotales:0})),0;"Hombre"===d?e=10*i+6.25*o-5*m+5:"Mujer"===d&&(e=10*i+6.25*o-5*m+161),r(Object(b.a)(Object(b.a)({},n),{},{caloriasTotales:e}));localStorage.setItem("calendario",JSON.stringify([])),A()("Perfecto!","Los datos han sido actualizados!","success")},children:"ACTUALIZAR DATOS"})}),Object(c.jsx)("div",{className:"d-grid gap-2",children:Object(c.jsx)("button",{type:"button",className:"btn btn-danger fz-20 mt-3",onClick:function(){A()("Seguro que desea eliminar los datos? Esta acci\xf3n no puede revertirse...",{buttons:{cancel:"Cancelar",aceptar:{text:"Borrar",value:"borrar"}}}).then((function(e){switch(e){case"borrar":localStorage.setItem("datos",JSON.stringify([])),r({altura:"",peso:"",sexo:"",edad:"",caloriasTotales:0}),A()("Bien!","Su Calendario ha sido borrado","success");break;default:A()("Cancelado!")}}))},children:"BORRAR DATOS"})})]})]})},M=function(){return Object(c.jsx)(f,{children:Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)(N,{}),Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{exact:!0,path:"/alimentos",component:S}),Object(c.jsx)(i.b,{exact:!0,path:"/dia",component:D}),Object(c.jsx)(i.b,{exact:!0,path:"/calendario",component:L}),Object(c.jsx)(i.b,{exact:!0,path:"/micuenta",component:T}),Object(c.jsx)(i.a,{to:"/micuenta"})]})]})})})},w=function(){return Object(c.jsx)(M,{})};r.a.render(Object(c.jsx)(w,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.cf9ba396.chunk.js.map